define("phyxdown/ionejs/1.0.0/ionejs",["./core/Engine","./utils/inherits","./core/One","./geom/Matrix2D","./geom/Point","./core/events/MouseEvent","./core/Event","./core/ones/Stage","./core/ones/Painter"],function(a,b,c){var d=a("./core/Engine"),e={};e.instance=new d,e.Event=a("./core/Event"),e.inherits=a("./utils/inherits"),e.One=a("./core/One"),e.Stage=a("./core/ones/Stage"),e.Painter=a("./core/ones/Painter"),c.exports=e}),define("phyxdown/ionejs/1.0.0/core/Engine",["phyxdown/ionejs/1.0.0/utils/inherits","phyxdown/ionejs/1.0.0/core/One","phyxdown/ionejs/1.0.0/geom/Matrix2D","phyxdown/ionejs/1.0.0/geom/Point","phyxdown/ionejs/1.0.0/core/events/MouseEvent","phyxdown/ionejs/1.0.0/core/Event"],function(a,b,c){a("phyxdown/ionejs/1.0.0/utils/inherits"),a("phyxdown/ionejs/1.0.0/core/One");var d=a("phyxdown/ionejs/1.0.0/core/events/MouseEvent"),e=a("phyxdown/ionejs/1.0.0/geom/Point"),f=function(){this._stage=null,this._canvas=null},g=f.prototype;g.init=function(a,b){this._stage=a,this._canvas=b,b.width=a.width,b.height=a.height;var c=b.offsetTop,f=b.offsetLeft,g=function(b){var g=new e(b.pageX-f,b.pageY-c),h=a.hit(g);if(h){var i=h.globalToLocal(g);h.dispatchEvent(new d({type:b.type,global:g,local:i}))}},h=["mousedown","mouseup","click"];for(var i in h)b.addEventListener(h[i],g)},g.run=function(){var a=this._canvas,b=this._stage,c=a.getContext("2d"),d=function(){b._draw(c),setTimeout(d,1e3/60)};d()},c.exports=f}),define("phyxdown/ionejs/1.0.0/utils/inherits",[],function(a,b,c){c.exports=function(a,b){return a._super=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}}),define("phyxdown/ionejs/1.0.0/core/One",["phyxdown/ionejs/1.0.0/geom/Matrix2D","phyxdown/ionejs/1.0.0/geom/Point"],function(a,b,c){var d=a("phyxdown/ionejs/1.0.0/geom/Matrix2D"),e=a("phyxdown/ionejs/1.0.0/geom/Point"),f=function(a){a=a||{};var b={};b.bubble={},b.capture={},this._listeners=b,this._parent=a.parent||null,this._children=[],this._active=!0,this._visible=!0,this._hitable=!1,this.x=a.x,this.y=a.y,this.regX=a.regX,this.regY=a.regY,this.rotation=a.rotation,this.scaleX=a.scaleX,this.scaleY=a.scaleY,this.skewX=a.skewX,this.skewY=a.skewY,this.alpha=a.alpha},g=f.prototype;g.addChild=function(a){a.setParent(this),this._children.push(a)},g.insertChild=function(a,b){a.setParent(this),this._children.splice(b,0,a)},g.removeChild=function(a){for(var b=this._children,c=0,d=b.length;d>c;c++)b[c]==a&&(a.setParent(null),b.splice(c,1))},g.setParent=function(a){this._parent=a},g.getAncestors=function(){for(var a=[],b=this;b._parent;)b=b._parent,a.push(b);return a},g.addEventListener=function(a,b,c){for(var d=c?"capture":"bubble",e=this._listeners[d][a],f=0,g=e?e.length:0;g>f;f++)if(e[f]==b)return;return e?e.push(b):this._listeners[d][a]=[b],b},g.removeEventListener=function(a,b,c){for(var d=c?"capture":"bubble",e=this._listeners[d][a],f=0,g=e?e.length:0;g>f;f++)if(e[f]==b){1==g?delete this._listeners[d][a]:e.splice(f,1);break}},g.dispatchEvent=function(a){a.origin=this;var b=this.getAncestors();a.phase=Event.CAPTURING_PHASE;for(var c=b.length-1;c>=0;c--)if(b[c]._dispatchEvent(a),a._propagationStopped)return;if(a.phase=Event.TARGET_PHASE,this._dispatchEvent(a),!a._propagationStopped){a.phase=Event.BUBBLING_PHASE;for(var c=0,d=b.length;d>c;c++)if(b[c]._dispatchEvent(a),a._propagationStopped)return}},g._dispatchEvent=function(a){a.current=this;try{var b=a.phase===Event.CAPTURING_PHASE?"capture":"bubble",c=this._listeners[b][a.type].slice();for(i=0,len=c.length;len>i&&(c[i](a),!a._immediatePropagationStopped);i++);}catch(d){}},g._getRelativeMatrix=function(){var a=new d;return a.identity().appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY)},g._getAbsoluteMatrix=function(){var a=this.getAncestors(),b=new d;b.identity();for(var c=a.length-1;c>-1;c--)b.appendMatrix(a[c]._getRelativeMatrix());return b.appendMatrix(this._getRelativeMatrix()),b},g.globalToLocal=function(a){var b=this._getAbsoluteMatrix();return b.invert().append(1,0,0,1,a.x,a.y),new e(b.tx,b.ty)},g.localToGlobal=function(a){var b=this._getAbsoluteMatrix();return b.append(1,0,0,1,a.x,a.y),new e(b.tx,b.ty)},g.hit=function(a){for(var b=this._children,c=b.length-1;c>-1;c--){var d=b[c].hit(a);if(d)return d}return this._hitable&&this.testHit(this.globalToLocal(a))?this:null},g.testHit=function(){return!1},g._draw=function(a){a.save();var b=this._getRelativeMatrix();a.transform(b.a,b.b,b.c,b.d,b.tx,b.ty),this._visible&&this.draw(a);for(var c=0,d=this._children.length;d>c;c++){var e=this._children[c];e._draw(a)}a.restore()},g.draw=function(){},c.exports=f}),define("phyxdown/ionejs/1.0.0/geom/Matrix2D",[],function(a,b,c){function d(a,b,c,d,e,f){this.setValues(a,b,c,d,e,f)}var e=d.prototype;d.DEG_TO_RAD=Math.PI/180,d.identity=null,e.setValues=function(a,b,c,d,e,f){return this.a=null==a?1:a,this.b=b||0,this.c=c||0,this.d=null==d?1:d,this.tx=e||0,this.ty=f||0,this},e.append=function(a,b,c,d,e,f){var g=this.tx;if(1!=a||0!=b||0!=c||1!=d){var h=this.a,i=this.c;this.a=h*a+this.b*c,this.b=h*b+this.b*d,this.c=i*a+this.d*c,this.d=i*b+this.d*d}return this.tx=g*a+this.ty*c+e,this.ty=g*b+this.ty*d+f,this},e.prepend=function(a,b,c,d,e,f){var g=this.a,h=this.b,i=this.c,j=this.d;return this.a=a*g+b*i,this.b=a*h+b*j,this.c=c*g+d*i,this.d=c*h+d*j,this.tx=e*g+f*i+this.tx,this.ty=e*h+f*j+this.ty,this},e.appendMatrix=function(a){return this.append(a.a,a.b,a.c,a.d,a.tx,a.ty)},e.prependMatrix=function(a){return this.prepend(a.a,a.b,a.c,a.d,a.tx,a.ty)},e.appendTransform=function(a,b,c,e,f,g,h,i,j){if(f%360)var k=f*d.DEG_TO_RAD,l=Math.cos(k),m=Math.sin(k);else l=1,m=0;return(i||j)&&(this.tx-=i,this.ty-=j),g||h?(g*=d.DEG_TO_RAD,h*=d.DEG_TO_RAD,this.append(l*c,m*c,-m*e,l*e,0,0),this.append(Math.cos(h),Math.sin(h),-Math.sin(g),Math.cos(g),a,b)):this.append(l*c,m*c,-m*e,l*e,a,b),this},e.prependTransform=function(a,b,c,e,f,g,h,i,j){if(f%360)var k=f*d.DEG_TO_RAD,l=Math.cos(k),m=Math.sin(k);else l=1,m=0;return g||h?(g*=d.DEG_TO_RAD,h*=d.DEG_TO_RAD,this.prepend(Math.cos(h),Math.sin(h),-Math.sin(g),Math.cos(g),a,b),this.prepend(l*c,m*c,-m*e,l*e,0,0)):this.prepend(l*c,m*c,-m*e,l*e,a,b),(i||j)&&(this.tx-=i*this.a+j*this.c,this.ty-=i*this.b+j*this.d),this},e.rotate=function(a){var b=Math.cos(a),c=Math.sin(a),d=this.a,e=this.c,f=this.tx;return this.a=d*b-this.b*c,this.b=d*c+this.b*b,this.c=e*b-this.d*c,this.d=e*c+this.d*b,this.tx=f*b-this.ty*c,this.ty=f*c+this.ty*b,this},e.skew=function(a,b){return a*=d.DEG_TO_RAD,b*=d.DEG_TO_RAD,this.prepend(Math.cos(b),Math.sin(b),-Math.sin(a),Math.cos(a),0,0),this},e.scale=function(a,b){return this.a*=a,this.d*=b,this.c*=a,this.b*=b,this.tx*=a,this.ty*=b,this},e.translate=function(a,b){return this.tx+=a,this.ty+=b,this},e.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},e.invert=function(){var a=this.a,b=this.b,c=this.c,d=this.d,e=this.tx,f=a*d-b*c;return this.a=d/f,this.b=-b/f,this.c=-c/f,this.d=a/f,this.tx=(c*this.ty-d*e)/f,this.ty=-(a*this.ty-b*e)/f,this},e.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},e.equals=function(a){return this.tx===a.tx&&this.ty===a.ty&&this.a===a.a&&this.b===a.b&&this.c===a.c&&this.d===a.d},e.transformPoint=function(a,b,c){return c=c||{},c.x=a*this.a+b*this.c+this.tx,c.y=a*this.b+b*this.d+this.ty,c},e.decompose=function(a){null==a&&(a={}),a.x=this.tx,a.y=this.ty,a.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),a.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var b=Math.atan2(-this.c,this.d),c=Math.atan2(this.b,this.a),e=Math.abs(1-b/c);return 1e-5>e?(a.rotation=c/d.DEG_TO_RAD,this.a<0&&this.d>=0&&(a.rotation+=a.rotation<=0?180:-180),a.skewX=a.skewY=0):(a.skewX=b/d.DEG_TO_RAD,a.skewY=c/d.DEG_TO_RAD),a},e.copy=function(a){return this.setValues(a.a,a.b,a.c,a.d,a.tx,a.ty)},e.clone=function(){return new d(this.a,this.b,this.c,this.d,this.tx,this.ty)},e.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},d.identity=new d,c.exports=d}),define("phyxdown/ionejs/1.0.0/geom/Point",[],function(a,b,c){var d=function(a,b){this.x=a,this.y=b};c.exports=d}),define("phyxdown/ionejs/1.0.0/core/events/MouseEvent",["phyxdown/ionejs/1.0.0/utils/inherits","phyxdown/ionejs/1.0.0/core/Event"],function(a,b,c){var d=a("phyxdown/ionejs/1.0.0/utils/inherits"),e=a("phyxdown/ionejs/1.0.0/core/Event"),f=function(a){e.apply(this,arguments),this.local=a.local,this.global=a.global};d(f,e),c.exports=f}),define("phyxdown/ionejs/1.0.0/core/Event",[],function(a,b,c){var d=function(a){this.type=a.type,this.origin=null,this.current=null,this.phase=null,this._immediatePropagationStoped=!1,this._propagationStoped=!1};d.CAPTURING_PHASE=1,d.BUBBLING_PHASE=2,d.TARGET_PHASE=3;var e=d.prototype;e.isPropagationStopped=function(){return this._propagationStoped},e.stopImmediatePropagation=function(){this._immediatePropagationStoped=!0,this._propagationStoped=!0},e.stopPropagation=function(){this._propagationStoped=!0},c.exports=d}),define("phyxdown/ionejs/1.0.0/core/ones/Stage",["phyxdown/ionejs/1.0.0/utils/inherits","phyxdown/ionejs/1.0.0/core/One","phyxdown/ionejs/1.0.0/geom/Matrix2D","phyxdown/ionejs/1.0.0/geom/Point"],function(a,b,c){var d=a("phyxdown/ionejs/1.0.0/utils/inherits"),e=a("phyxdown/ionejs/1.0.0/core/One"),f=function(a){a.parent=null,e.apply(this,arguments),this.width=a.width,this.height=a.height};d(f,e),c.exports=f}),define("phyxdown/ionejs/1.0.0/core/ones/Painter",["phyxdown/ionejs/1.0.0/utils/inherits","phyxdown/ionejs/1.0.0/core/One","phyxdown/ionejs/1.0.0/geom/Matrix2D","phyxdown/ionejs/1.0.0/geom/Point"],function(a,b,c){var d=a("phyxdown/ionejs/1.0.0/utils/inherits"),e=a("phyxdown/ionejs/1.0.0/core/One"),f=function(a){e.apply(this,arguments);var b=this;a.src&&b.set(a.src)},g=d(f,e);g.set=function(a){var b=this,c=new Image;c.src=a,b._image=c},g.draw=function(a){var b=this,c=b._image;try{a.drawImage(c,0,0)}catch(d){}},c.exports=f});
